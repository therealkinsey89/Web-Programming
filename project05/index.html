<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="../layout.css" rel="stylesheet" type="text/css">
    <title>Project 05</title>
    <script>
        function compute(bal, rate, pay)
        {
            const tbl = document.createElement("table");
            const tblBody = document.createElement("tbody");
            var beginBalance = bal;
            var interestRate = rate;
            var monthlyPayment = pay;
            var intChar;

            for (let i = 1; i <= 12; i++)
            {
                const row = document.createElement("tr");
                    //month
                    const month = document.createElement("td");
                    const monthText = document.createTextNode(i);
                    month.appendChild(monthText);
                    row.appendChild(month);
                    //beginning balance
                    const bbal = document.createElement("td");
                    const bbalText = document.createTextNode(parseFloat(beginBalance.value, 10));
                    bbal.appendChild(bbalText);
                    row.appendChild(bbal);
                    //interest charge
                    intChar = beginBalance * (interestRate / 12);
                    const charge = document.createElement("td");
                    const chargeText = document.createTextNode(parseFloat(intChar, 10));
                    charge.appendChild(chargeText);
                    row.appendChild(charge);
                    //payment
                    const monthlyPay = document.createElement("td");
                    const payText = document.createTextNode(parseFloat(pay.value, 10));
                    monthlyPay.appendChild(payText);
                    row.appendChild(monthlyPay);
                    //ending balance
                    beginBalance += intChar - pay;
                    const fbal = document.createElement("td");
                    const fbalText = document.createTextNode(parseInt(beginBalance, 10));
                    fbal.appendChild(fbalText);
                    row.appendChild(fbal);

                tblBody.appendChild(row);
            }

            tbl.appendChild(tblBody);
            document.body.appendChild(tbl);
            tbl.setAttribute("border", "2");
        }
    </script>
</head>
<body>
    <header>
        <h1>Credit Card Debt Calculator</h1>
    </header>
    <form>
        <label>Beginning Balance</label><br>
        <input type="number" id="beginBal" name="beginBal"><br>
        <label>Annual Interest Rate</label><br>
        <input type="number" id="intRate" name="intRate"><br>
        <label>Monthly Payment</label><br>
        <input type="number" id="payment" name="payment"><br>
        <input type="button" value="Submit" onclick="compute(beginBal, intRate, payment)">
    </form>
    <footer>
        Course work for University of the Cumberlands course: Web Programming ITSS-334-B20
    </footer>
</body>
</html>